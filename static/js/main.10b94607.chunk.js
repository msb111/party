(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{63:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},64:function(e){e.exports=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},65:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"requestTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenInstance","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"allowedToWithdraw","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenInstance","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"waitTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},74:function(e,t,n){},81:function(e,t){},95:function(e,t,n){"use strict";n.r(t);n(74);var a=n(108),r=n(71),s=n(12),u=n(59),i=n.n(u),c=n(1),o=n.n(c),p=n(23),l=n(24),d=n(46),b=n(70),f=n(110),y=n(105),m=n(106),h=n(109),w=n(107),x=n(103),v=n(60),j=n.n(v),O="https://rpc.cheapeth.org/rpc";var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(),n=Object(l.a)(t,2),a=n[0],r=n[1],u=Object(s.useState)(!1),i=Object(l.a)(u,2),c=i[0],d=i[1],b=e.autoLoad,f=void 0===b||b,y=e.network,m=void 0===y?O:y,h=Object(s.useMemo)((function(){return new j.a({network:m,cacheProvider:!0,providerOptions:{}})}),[m]),w=Object(s.useCallback)(Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.connect();case 2:t=e.sent,r(new x.a(t));case 4:case"end":return e.stop()}}),e)}))),[h]),v=Object(s.useCallback)(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.clearCachedProvider();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),[h]);return Object(s.useEffect)((function(){f&&!c&&h.cachedProvider&&(w(),d(!0))}),[f,c,w,d,h.cachedProvider]),[a,w,v]},k=n(63),T=n(64),M={erc20:k,faucet:n(65),ownable:T},E={ptyErc20:"0x4AC1242106601F70BfDc4731D4EEAF7f7501B5Cd",faucet:"0xfd1D23F823dA379a8AA7ADFAf02ed0ce624E1642"},A=n(13),I=!1;function P(e){var t=e.provider,n=e.loadWeb3Modal,a=e.logoutOfWeb3Modal,r=Object(s.useState)(""),u=Object(l.a)(r,2),i=u[0],c=u[1],d=Object(s.useState)(""),b=Object(l.a)(d,2),y=b[0],m=b[1];Object(s.useEffect)((function(){function e(){return(e=Object(p.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.listAccounts();case 5:n=e.sent,c(n[0]),m("Logout "+i.substring(0,6)+"..."+i.substring(36)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),c(""),m(""),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t,c,m]);var h="outline-primary";return t&&(h="outline-warning"),Object(A.jsxs)(f.a,{id:"wallet_button",variant:h,onClick:function(){t?a():n()},children:[""===y&&"Connect Metamask",""!==y&&y]})}var N=function(){var e=g(),t=Object(l.a)(e,3),n=t[0],a=t[1],r=t[2];function s(){return(s=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,n.getNetwork();case 3:t=e.sent,777!==t.chainId&&alert("Wrong network! Party Token is an ERC20 token on the cheapETH network. Visit cheapeth.org to get started!");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return i.apply(this,arguments)}function i(){return(i=Object(p.a)(o.a.mark((function e(){var t,n,a,r,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new b.a("https://node.cheapeth.org/rpc"),n=new d.a(E.ptyErc20,M.erc20,t),e.next=5,n.balanceOf("0xfd1D23F823dA379a8AA7ADFAf02ed0ce624E1642");case 5:a=e.sent,r=a.toString(),s=r.substring(0,r.length-18)+"."+r.substring(r.length-18,r.length-15),(u=document.getElementById("faucet_info")).innerText="Faucet balance: "+s+" PTY",u.hidden=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function c(){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u,i,c,p,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=21;break}return e.next=3,n.getNetwork();case 3:if(t=e.sent,777!==t.chainId){e.next=21;break}return e.next=8,n.listAccounts();case 8:return a=e.sent,r=a[0],s=new d.a(E.ptyErc20,M.erc20,n),e.next=13,s.balanceOf(r);case 13:u=e.sent,i=u.toString(),c="0.000",0!=i&&(c=i.substring(0,i.length-18)+"."+i.substring(i.length-18,i.length-15)),null!==(p=document.getElementById("wallet_info"))&&(p.innerText="Your balance: "+c+" PTY",p.hidden=!1),null!==(l=document.getElementById("request_button"))&&(l.hidden=!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=16;break}return e.next=3,n.getNetwork();case 3:if(t=e.sent,777!==t.chainId){e.next=16;break}return e.next=8,n.listAccounts();case 8:return a=e.sent,r=a[0],s=new d.a(E.faucet,M.faucet,n),e.next=13,s.allowedToWithdraw(r);case 13:return u=e.sent,document.getElementById("request_button").disabled=!u||I,e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u,i,p,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=38;break}return t=document.getElementById("request_button"),e.next=4,n.getNetwork();case 4:if(a=e.sent,777!==a.chainId){e.next=38;break}return e.prev=7,e.next=10,v();case 10:if(!0!==e.sent){e.next=26;break}return t.disabled=!0,r=n.getSigner(),s=new d.a(E.faucet,M.faucet,r),e.next=17,s.requestTokens();case 17:return u=e.sent,console.log(u),alert("Success! You claimed 10,000PTY."),c(),I=!0,setTimeout((function(){I=!1}),15e3),e.abrupt("return",u);case 26:return e.next=28,n.listAccounts();case 28:i=e.sent,p=i[0],l=p.substring(0,6)+"..."+p.substring(36),alert("Request failed! "+l+" can request PTY once every 45 minutes.");case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(7),console.error(e.t0),e.t0.hasOwnProperty("message")?alert("Error: "+e.t0.message):alert("Request failed with unknown error!");case 38:return e.abrupt("return",!1);case 39:case"end":return e.stop()}}),e,null,[[7,34]])})))).apply(this,arguments)}return function(){s.apply(this,arguments)}(),u(),setInterval(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))),15e3),v(),setInterval(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v();case 1:case"end":return e.stop()}}),e)}))),15e3),c(),setInterval(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)}))),5e3),setInterval(Object(p.a)(o.a.mark((function e(){var t,a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,n.listAccounts();case 3:t=e.sent,a=t[0],r="Logout "+a.substring(0,6)+"..."+a.substring(36),(s=document.getElementById("wallet_button")).innerHTML!==r&&(s.innerText=r,c(),v());case 8:case"end":return e.stop()}}),e)}))),1500),window.ethereum&&window.ethereum.on("chainChanged",(function(e){window.location.reload()})),Object(A.jsxs)("div",{children:[Object(A.jsxs)(y.a,{children:[Object(A.jsx)(m.a,{xs:12,hidden:!0,id:"faucet_info",className:"text-right",children:"Faucet balance: PTY"}),Object(A.jsx)(m.a,{xs:12,hidden:!0,id:"wallet_info",className:"text-right"})]}),Object(A.jsx)(y.a,{children:Object(A.jsx)(m.a,{children:"."})}),Object(A.jsxs)(y.a,{children:[Object(A.jsx)(m.a,{sm:4,xs:12,children:Object(A.jsx)(h.a,{children:Object(A.jsx)(h.a.Image,{width:150,height:150,alt:"Party Token",src:"https://msb111.github.io/party/party.png"})})}),Object(A.jsx)(m.a,{sm:8,xs:12,className:!0,children:Object(A.jsx)(w.a,{children:Object(A.jsx)(y.a,{className:"justify-content-md-right",children:Object(A.jsxs)(m.a,{className:"text-right",children:[Object(A.jsx)("p",{className:"h4",children:"Claim free Party tokens every 45 minutes:"}),Object(A.jsx)(f.a,{hidden:!0,id:"request_button",variant:"primary",onClick:function(){return O.apply(this,arguments)},children:"Request $PTY"})," ",Object(A.jsx)(P,{provider:n,loadWeb3Modal:a,logoutOfWeb3Modal:r})]})})})})]})]})},C=new r.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});i.a.render(Object(A.jsx)(a.a,{client:C,children:Object(A.jsx)(N,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.10b94607.chunk.js.map
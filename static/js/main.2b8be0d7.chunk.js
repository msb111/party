(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{63:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},64:function(e){e.exports=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},65:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"requestTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenInstance","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"allowedToWithdraw","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenInstance","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"waitTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},74:function(e,t,n){},81:function(e,t){},95:function(e,t,n){"use strict";n.r(t);n(74);var a=n(108),r=n(71),s=n(12),u=n(59),i=n.n(u),c=n(1),o=n.n(c),p=n(26),l=n(23),d=n(46),y=n(70),f=n(110),b=n(105),m=n(106),h=n(109),w=n(107),x=n(103),v=n(60),j=n.n(v),O="INVALID_INFURA_KEY",g="mainnet";var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(),n=Object(l.a)(t,2),a=n[0],r=n[1],u=Object(s.useState)(!1),i=Object(l.a)(u,2),c=i[0],d=i[1],y=e.autoLoad,f=void 0===y||y,b=e.infuraId,m=void 0===b?O:b,h=e.network,w=void 0===h?g:h,v=Object(s.useMemo)((function(){return new j.a({network:w,cacheProvider:!0,providerOptions:{}})}),[m,w]),k=Object(s.useCallback)(Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.connect();case 2:t=e.sent,r(new x.a(t));case 4:case"end":return e.stop()}}),e)}))),[v]),T=Object(s.useCallback)(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.clearCachedProvider();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),[v]);return Object(s.useEffect)((function(){f&&!c&&v.cachedProvider&&(k(),d(!0))}),[f,c,k,d,v.cachedProvider]),[a,k,T]},T=n(63),M=n(64),A={erc20:T,faucet:n(65),ownable:M},E={ptyErc20:"0x4AC1242106601F70BfDc4731D4EEAF7f7501B5Cd",faucet:"0xfd1D23F823dA379a8AA7ADFAf02ed0ce624E1642"},I=n(13);function N(e){var t=e.provider,n=e.loadWeb3Modal,a=e.logoutOfWeb3Modal,r=Object(s.useState)(""),u=Object(l.a)(r,2),i=u[0],c=u[1],d=Object(s.useState)(""),y=Object(l.a)(d,2),b=y[0],m=y[1];Object(s.useEffect)((function(){function e(){return(e=Object(p.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.listAccounts();case 5:n=e.sent,c(n[0]),m("Logout "+i.substring(0,6)+"..."+i.substring(36)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),c(""),m(""),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t,c,m]);var h="";return t&&(h="btn-warning"),Object(I.jsxs)(f.a,{id:"wallet_button",className:h,onClick:function(){t?a():n()},children:[""===b&&"Connect Metamask",""!==b&&b]})}var P=function(){var e=k(),t=Object(l.a)(e,3),n=t[0],a=t[1],r=t[2];function s(){return(s=Object(p.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,n.getNetwork();case 3:t=e.sent,777!==t.chainId&&alert("Wrong network! Party Token is an ERC20 token on the cheapETH network. Visit cheapeth.org to get started!");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return i.apply(this,arguments)}function i(){return(i=Object(p.a)(o.a.mark((function e(){var t,n,a,r,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new y.a("https://node.cheapeth.org/rpc"),n=new d.a(E.ptyErc20,A.erc20,t),e.next=5,n.balanceOf("0xfd1D23F823dA379a8AA7ADFAf02ed0ce624E1642");case 5:a=e.sent,r=a.toString(),s=r.substring(0,r.length-18)+"."+r.substring(r.length-18,r.length-15),(u=document.getElementById("faucet_info")).innerText="Faucet balance: "+s+" PTY",u.hidden=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function c(){return x.apply(this,arguments)}function x(){return(x=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u,i,c,p,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=21;break}return e.next=3,n.getNetwork();case 3:if(t=e.sent,777!==t.chainId){e.next=21;break}return e.next=8,n.listAccounts();case 8:return a=e.sent,r=a[0],s=new d.a(E.ptyErc20,A.erc20,n),e.next=13,s.balanceOf(r);case 13:u=e.sent,i=u.toString(),c="0.000",0!=i&&(c=i.substring(0,i.length-18)+"."+i.substring(i.length-18,i.length-15)),null!==(p=document.getElementById("wallet_info"))&&(p.innerText="Your balance: "+c+" PTY",p.hidden=!1),null!==(l=document.getElementById("request_button"))&&(l.hidden=!1);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=15;break}return e.next=3,n.getNetwork();case 3:if(t=e.sent,777!==t.chainId){e.next=15;break}return e.next=8,n.listAccounts();case 8:return a=e.sent,r=a[0],s=new d.a(E.faucet,A.faucet,n),e.next=13,s.allowedToWithdraw(r);case 13:return u=e.sent,e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(p.a)(o.a.mark((function e(){var t,a,r,s,u,i,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=35;break}return document.getElementById("request_button"),e.next=4,n.getNetwork();case 4:if(t=e.sent,777!==t.chainId){e.next=35;break}return e.prev=7,e.next=10,v();case 10:if(1!=e.sent){e.next=23;break}return a=n.getSigner(),r=new d.a(E.faucet,A.faucet,a),e.next=16,r.requestTokens();case 16:return s=e.sent,console.log(s),alert("Success! You claimed 10,000PTY."),c(),e.abrupt("return",s);case 23:return e.next=25,n.listAccounts();case 25:u=e.sent,i=u[0],p=i.substring(0,6)+"..."+i.substring(36),alert("Request failed! "+p+" can request PTY once every 45 minutes.");case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(7),console.log(e.t0),e.t0.hasOwnProperty("message")?alert("Error: "+e.t0.message):(alert("Request failed with unknown error!"),console.log(e.t0));case 35:return e.abrupt("return",!1);case 36:case"end":return e.stop()}}),e,null,[[7,31]])})))).apply(this,arguments)}return function(){s.apply(this,arguments)}(),u(),setInterval(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))),15e3),c(),setInterval(Object(p.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)}))),5e3),window.ethereum&&window.ethereum.on("chainChanged",(function(e){window.location.reload()})),Object(I.jsxs)("div",{children:[Object(I.jsxs)(b.a,{children:[Object(I.jsx)(m.a,{xs:12,hidden:!0,id:"faucet_info",className:"text-right",children:"Faucet balance: PTY"}),Object(I.jsx)(m.a,{xs:12,hidden:!0,id:"wallet_info",className:"text-right"})]}),Object(I.jsx)(b.a,{children:Object(I.jsx)(m.a,{children:"."})}),Object(I.jsxs)(b.a,{children:[Object(I.jsx)(m.a,{sm:4,xs:12,children:Object(I.jsx)(h.a,{children:Object(I.jsx)(h.a.Image,{width:150,height:150,alt:"Party Token",src:"party.png"})})}),Object(I.jsx)(m.a,{sm:8,xs:12,className:!0,children:Object(I.jsx)(w.a,{children:Object(I.jsx)(b.a,{className:"justify-content-md-right",children:Object(I.jsx)(m.a,{className:"text-right",children:Object(I.jsxs)("p",{children:["Get Free Party Tokens: ",Object(I.jsx)(f.a,{hidden:!0,id:"request_button",onClick:function(){return O.apply(this,arguments)},children:"Request free $PTY"})," ",Object(I.jsx)(N,{provider:n,loadWeb3Modal:a,logoutOfWeb3Modal:r})]})})})})})]})]})},S=new r.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});i.a.render(Object(I.jsx)(a.a,{client:S,children:Object(I.jsx)(P,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.2b8be0d7.chunk.js.map